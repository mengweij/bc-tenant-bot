@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-background m-0 p-0 flex justify-center items-center h-screen;
  }

  input:focus {
    @apply outline-none;
  }
}

@layer components {
  .messages-container {
    @apply overflow-y-auto max-h-full scroll-smooth flex flex-col;
  }

  .bubble {
    @apply m-2.5 p-2.5 text-base border-none text-body shadow-md w-4/5 text-left;
  }

  .bubble.user {
    @apply rounded-[10px_10px_0_10px] bg-grey text-body ml-auto;
  }

  .bubble.assistant {
    @apply rounded-[10px_10px_10px_0] bg-white mr-auto;
  }

  /* Markdown styles */
  .bubble.assistant h1,
  .bubble.assistant h2,
  .bubble.assistant h3 {
    @apply mt-2 mb-2 text-primary;
  }

  .bubble.assistant p {
    @apply my-2;
  }

  .bubble.assistant strong {
    @apply text-primary;
  }

  .bubble.assistant ul,
  .bubble.assistant ol {
    @apply my-2 pl-6;
  }

  .bubble.assistant code {
    @apply bg-primary/10 px-2 py-1 rounded;
  }

  .bubble.assistant pre {
    @apply bg-primary/10 p-4 rounded overflow-x-auto;
  }

  .loading-bubble {
    @apply m-2.5 w-[60px] aspect-[4] animate-[loading-bubble_1s_infinite_linear];
    background:
      no-repeat radial-gradient(circle closest-side, #123262 90%, #0000 0%) 0 50%,
      no-repeat radial-gradient(circle closest-side, #123262 90%, #0000 0%) 50% 50%,
      no-repeat radial-gradient(circle closest-side, #123262 90%, #0000 0%) 100% 50%;
    background-size: calc(100% / 3) 100%;
  }

}

@keyframes loading-bubble {
  33% { background-size: calc(100% / 3) 0%, calc(100% / 3) 100%, calc(100% / 3) 100%; }
  50% { background-size: calc(100% / 3) 100%, calc(100% / 3) 0%, calc(100% / 3) 100%; }
  66% { background-size: calc(100% / 3) 100%, calc(100% / 3) 100%, calc(100% / 3) 0%; }
}